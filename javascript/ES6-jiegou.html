<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>javascript ES6 解构</title>
</head>
<body>

    <script>
        window.onload = function () {}


        // ES6标准新增的一种新的函数：  Arrow Function (箭头函数)：
        // x => x*x;        ===>   function (x) { return x*x };

        // 箭头函数相当于匿名函数，并且简化了函数定义。
        // 箭头函数有两种格式，一种像上面的，只包含一个表达式， 连 {...} 和 return 都省略掉了
        // 另一种可以包含多条语句，这就是就不能省略 {...} 和 return：
        /* x => {
            if(x>0){
                return x * x;
            }else{
                return -x * -x
            }
        }; */
        // 如果参数是多个就需要用括号 () 括起来
        // 两个参数     (x, y) => x * x + y * y
        // 无参数       () => 3.14
        // 可变参数
            /* (x, y, ...rest) => {
                var i, sum = x+y;
                for(i=0; i<rest.length; i++){
                    sum += rest[i];
                };
                return sum;
            }; */

        // 如果返回对象，就要注意，如果是单表达式，这么写的话会报错
        // x => { foo:x }       // 因为和函数体的 {...} 语法有冲突，所以改为
        // x => ({ foo:x })     // 正确写法
        // 由于 this 在箭头函数中已经按照词法作用域绑定了，所以， call() 或者 apply() 调用箭头函数时，无法对 this 进行绑定，即传入的第一个参数被忽略
        var obj = {
            birth: 1990,
            getAge:function(year){
                var b = this.birth;
                var fn = (y) => y - this.birth;
                return fn.call( {birth:2000}, year);    // 第一个参数被忽略
            }
        };
        obj.getAge(2015);       // 25


        // generator（生成器）是ES6标准引入的新的数据类型。一个generator看上去像一个函数，但可以返回多次。  ??????
        /* function fib(max) {          
            var
                t,
                a = 0,
                b = 1,
                arr = [0, 1];
            while (arr.length < max) {
                [a, b] = [b, a + b];
                arr.push(b);
            }
            return arr;
        }

        // 测试:
        fib(10); */









    </script>
    
</body>
</html>